<% if !@links.empty? %>
  <table class="ui single line table">
    <thead>
      <tr><th colspan="6">
        Your links
      </th>
    </tr></thead>
    <tbody>
      <% @links.each do |link| %>
        <tr>
          <td class="center aligned"><%= link_to link.title, link.url, :target => "_blank" %></td>
          <td><%= link_to 'Up', move_up_link_path(link), :method => :put, class: "ui fluid black basic button" %></td>
          <td><%= link_to 'Down', move_down_link_path(link), :method => :put, class: "ui fluid black basic button" %></td>
          <% if link.disable == false %>
            <td><%= link_to 'Disable', disable_link_path(link), :method => :post, class: "ui fluid black basic button" %></td>
          <% else %>
            <td><%= link_to 'Enable', enable_link_path(link), :method => :post, class: "ui fluid black basic button" %></td>
          <% end %>
          <td><%= link_to 'Edit', edit_link_path(link), class: "ui fluid black basic button" %></td>
          <td><%= link_to 'Delete', link, method: :delete, data: { confirm: 'Are you sure you want to delete this link?' }, class: "ui fluid black basic button" %></td>
        </tr>
      <% end %>
    </tbody>
    <tfoot>
      <tr><th colspan="6">
        <% if can? :new, Link %>
          <%= link_to 'Add new link', new_link_path, class: "ui primary button" %>
        <% else %>
          <%= link_to '30 Links limit reached', new_link_path, class: "ui right floated disabled button" %>
        <% end %>
      </th>
    </tr></tfoot> 
  </table>
<% else %>
  <table class="ui single line table">
    <thead>
      <tr><th colspan="6">
        Your links
      </th>
    </tr></thead>
    <tbody>
    </tbody>
    <tfoot>
      <tr><th colspan="6">
        <% if can? :new, Link %>
          <%= link_to 'Add new link', new_link_path, class: "ui primary button" %>
        <% end %>
      </th>
    </tr></tfoot>  
  </table>
<% end %>